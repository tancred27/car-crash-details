(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{259:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ue}));var r=n(7),i=n.n(r),a=n(0),o=n(6),c=n(363),s=n(118),l=n(130),d=n(362),u=n(176),f=n(262),h=n(8),b=n.n(h),j=n(234),g=n.n(j),p=n(4),m=n(72),y=n(242),x=n(30),O=n(10),w=n(75),_=n(135),v=n(109),C=n(174),D=n(11),S=o.default.create({container:{flex:1}}),P=function(e){var t=e.children,n=e.style,r=void 0===n?null:n;return Object(D.jsx)(p.default,{style:[S.container,r],children:t})},T=n(97),k=n(41).default.get("screen"),B=k.width,A=k.height,E=function(e){var t=Math.min(A,B),n=Math.round(t/375);return n>=2?e*n/4+e:e},z=function(e){return e.split("T")[0]},I=function(e){var t=e.split(":"),n=i()(t,2),r=n[0],a=n[1];return r.padStart(2,"0")+":"+a.padStart(2,"0")},V=o.default.create({row:{marginVertical:E(5),flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-start"},headerText:{fontFamily:"Poppins"},contentText:{fontFamily:"Poppins",color:"#757575"}}),N=function(e){var t=e.header,n=e.content;return Object(D.jsxs)(p.default,{style:V.row,children:[Object(D.jsx)(x.default,{style:V.headerText,children:t}),Object(D.jsx)(x.default,{style:V.contentText,children:n})]})},F=function(e){var t=e.data;return Object(D.jsx)(p.default,{children:t.map((function(e,t){return Object(D.jsx)(N,{header:e.header,content:e.content},t.toString())}))})},L=o.default.create({card:{padding:E(10),minWidth:E(200),marginVertical:E(10),marginHorizontal:E(10),borderWidth:1,borderColor:"#DBDBDB",backgroundColor:"white"}}),W=function(e){var t=e.data,n=e.onPress,r=e.customStyle,i=e.hasScrollView,a=void 0!==i&&i;return Object(D.jsx)(T.default,{style:[L.card,r],onPress:n,activeOpacity:1,children:a?Object(D.jsx)(m.default,{fadingEdgeLength:5,children:Object(D.jsx)(F,{data:t})}):Object(D.jsx)(F,{data:t})})},R=n(132),H=n(20),M=n.n(H),Y=["Car 1","Car 2","Crash Date","Crash Time"],J=function(e){return[{header:"Car 1: ",content:e.vehicle_type_code1||"-"},{header:"Car 2: ",content:e.vehicle_type_code2||"-"},{header:"Crash Date: ",content:z(e.crash_date)},{header:"Crash Time: ",content:e.crash_time?I(e.crash_time):"-"}]},U=o.default.create({container:{width:"100%",padding:E(8),marginVertical:E(16)},headers:{height:E(30),backgroundColor:"#DCDCDC"},cells:{height:E(30)},tableBorder:{borderWidth:1,borderColor:"#DBDBDB"},text:{fontFamily:"PoppinsBold",textAlign:"center"},row:{flexDirection:"row"},colContainer:{flexGrow:1,backgroundColor:"white",flexDirection:"row",height:E(50),padding:E(5),alignItems:"center",justifyContent:"center"},colContent:{fontFamily:"Poppins",textAlign:"center"}}),$=function(e){var t=e.navigation,n=e.data,r=e.headers,i=function(e,n){return Object(D.jsx)(T.default,{onPress:function(){return e=n,void t.navigate({name:"Details",params:{crashData:e}});var e},style:{overflow:"hidden"},children:Object(D.jsx)(p.default,{style:U.colContainer,children:Object(D.jsx)(x.default,{style:U.colContent,children:e.content})})})};return Object(D.jsx)(p.default,{style:U.container,children:Object(D.jsxs)(R.Table,{borderStyle:U.tableBorder,children:[Object(D.jsx)(R.Row,{data:r,style:U.headers,textStyle:U.text}),n.map((function(e,t){return Object(D.jsx)(R.TableWrapper,{style:U.row,children:J(e).map((function(t,n){return Object(D.jsx)(R.Cell,{data:i(t,e),textStyle:U.text},n.toString())}))},t.toString())}))]})})},G=n(360),Z=o.default.create({container:{marginVertical:E(10),flexDirection:"row",width:"50%",alignItems:"center",justifyContent:"space-between"},text:{fontFamily:"Poppins",textAlign:"center",color:"#3B9AE1"}}),q=function(e){var t=e.onPressLeft,n=e.onPressRight,r=e.offset;return Object(D.jsxs)(p.default,{style:Z.container,children:[Object(D.jsx)(G.default,{onPress:t,name:"leftcircle",size:E(18),color:"#3B9AE1"}),Object(D.jsxs)(x.default,{style:Z.text,children:[r+" - "+(r+5)," rows"]}),Object(D.jsx)(G.default,{onPress:n,name:"rightcircle",size:E(18),color:"#3B9AE1"})]})},K=n(361),Q=o.default.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",marginVertical:E(10),width:"web"===O.default.OS?"50%":E(100)}}),X=function(e){var t=e.showTable,n=e.displayTable;return Object(D.jsxs)(p.default,{style:Q.container,children:[Object(D.jsx)(G.default,{name:"table",onPress:function(){return n(!0)},size:E(18),color:t?"#3B9AE1":"black"}),Object(D.jsx)(K.default,{name:"list",onPress:function(){return n(!1)},size:E(18),color:t?"black":"#3B9AE1"})]})},ee=o.default.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",width:"web"===O.default.OS?"40%":"100%",marginVertical:E(10)},iconStyle:{marginHorizontal:E(5)},pickerContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:E(5),borderWidth:1,borderColor:"#3B9AE1",borderRadius:E(3)},text:{fontFamily:"Poppins",color:"lightgray"},button:{flexDirection:"row",alignItems:"center",justifyContent:"center",padding:E(5),paddingHorizontal:E(10),backgroundColor:"#3B9AE1",borderWidth:1,borderColor:"#3B9AE1",borderRadius:E(3)},buttonText:{color:"white"}}),te=function(e){var t=e.value,n=e.onDateChange,r=e.clearDate,o=Object(a.useState)(!1),c=i()(o,2),s=c[0],d=c[1];return Object(D.jsxs)(p.default,{style:ee.container,children:[Object(D.jsxs)(T.default,{onPress:function(){return d(!0)},style:ee.pickerContainer,children:[Object(D.jsx)(x.default,{style:ee.text,children:t?z(t.toISOString()):"YYYY-MM-DD"}),Object(D.jsx)(G.default,{style:ee.iconStyle,name:"calendar",size:E(16),color:"#3B9AE1"})]}),Object(D.jsx)(l.DatePickerModal,{mode:"single",locale:"en",visible:s,date:t||new Date,onConfirm:function(e){n(e.date),d(!1)},onDismiss:function(){return d(!1)}}),Object(D.jsx)(T.default,{style:ee.button,onPress:r,children:Object(D.jsx)(x.default,{style:[ee.text,ee.buttonText],children:"Clear"})})]})},ne=o.default.create({container:{marginVertical:E(10),paddingHorizontal:E(10),flexDirection:"web"===O.default.OS?"row":"column",width:"web"===O.default.OS?"99vw":"80%",borderColor:"#DBDBDB",alignItems:"center",justifyContent:"space-around",borderWidth:1,backgroundColor:"white"},innerContainer:{width:"web"===O.default.OS?"40%":"100%",flexDirection:"row",justifyContent:"space-evenly"}}),re=function(e){var t=e.onPressLeft,n=e.onPressRight,r=e.offset,i=e.showTable,a=e.displayTable,o=e.value,c=e.onDateChange,s=e.clearDate;return Object(D.jsxs)(p.default,{style:ne.container,children:[Object(D.jsx)(te,{value:o,onDateChange:c,clearDate:s}),Object(D.jsxs)(p.default,{style:ne.innerContainer,children:[Object(D.jsx)(X,{showTable:i,displayTable:a}),Object(D.jsx)(q,{onPressLeft:t,onPressRight:n,offset:r})]})]})};function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ae=o.default.create({container:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},cardsContainer:{flexDirection:"row",flexWrap:"wrap",padding:E(10),alignItems:"center",justifyContent:"center",width:"100%"},loaderStyle:{flex:1},tableContainerStyle:{width:"web"===O.default.OS?"80vw":B-E(10)},text:{fontFamily:"Poppins"}}),oe=function(e){var t=e.navigation,n=Object(a.useState)([]),r=i()(n,2),o=r[0],c=r[1],s=Object(a.useState)(),l=i()(s,2),d=l[0],u=l[1],f=Object(a.useState)(!0),h=i()(f,2),j=h[0],O=h[1],S=Object(a.useState)(0),T=i()(S,2),k=T[0],B=T[1],A=Object(a.useState)(!1),E=i()(A,2),I=E[0],V=E[1],N=Object(w.useSharedValue)(I),F=Object(_.useAnimatedStyle)(function(){var e=function(){return{opacity:N.value?Object(v.withTiming)(1):Object(v.withTiming)(0)}};return e._closure={opacity:N,withTiming:v.withTiming},e.asString="function _f(){const{opacity,withTiming}=jsThis._closure;{return{opacity:opacity.value?withTiming(1):withTiming(0)};}}",e.__workletHash=0xb7a24752d2c,e.__location="/Users/venkat/Desktop/test/car-crash-details/src/screens/list-screen.jsx (48:47)",e.__optimalization=2,e}()),L=Object(_.useAnimatedStyle)(function(){var e=function(){return{opacity:N.value?Object(v.withTiming)(0):Object(v.withTiming)(1)}};return e._closure={opacity:N,withTiming:v.withTiming},e.asString="function _f(){const{opacity,withTiming}=jsThis._closure;{return{opacity:opacity.value?withTiming(0):withTiming(1)};}}",e.__workletHash=267092515372,e.__location="/Users/venkat/Desktop/test/car-crash-details/src/screens/list-screen.jsx (54:46)",e.__optimalization=2,e}()),R=function(){var e={$offset:k,$limit:5};return d?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({crash_date:z(d.toISOString())},e):e};Object(a.useEffect)((function(){O(!0),g.a.get("https://data.cityofnewyork.us/resource/h9gi-nx95.json",{params:R()}).then((function(e){c(e.data),O(!1)})).catch((function(e){return console.log("Error fetching data: ",e)}))}),[k,d]);return Object(D.jsx)(P,{children:Object(D.jsxs)(p.default,{style:ae.container,children:[Object(D.jsx)(re,{showTable:I,displayTable:function(e){N.value=e,V(e)},value:d,onDateChange:function(e){u(e)},clearDate:function(){return u()},onPressLeft:function(){0!==k&&B((function(e){return e-5}))},onPressRight:function(){B((function(e){return e+5}))},offset:k}),j?Object(D.jsx)(y.default,{style:ae.loaderStyle,size:"large",color:"#3B9AE1"}):Object(D.jsx)(m.default,{fadingEdgeLength:5,contentContainerStyle:ae.cardsContainer,children:0===o.length?Object(D.jsx)(x.default,{style:ae.text,children:"No data found!"}):I?Object(D.jsx)(C.default.View,{style:[F,ae.tableContainerStyle],children:Object(D.jsx)($,{data:o,headers:Y,navigation:t})}):Object(D.jsx)(C.default.View,{style:[L,ae.cardsContainer],children:o.map((function(e,n){return Object(D.jsx)(W,{onPress:function(){return function(e){t.navigate({name:"Details",params:{crashData:e}})}(e)},data:J(e)},n.toString())}))})})]})})},ce=o.default.create({screen:{alignItems:"center",justifyContent:"center"},container:{maxHeight:"web"===O.default.OS?"80vh":A*(2/3),padding:E(10),backgroundColor:"white",width:"web"===O.default.OS?"80vw":B-E(30)}}),se=function(e){var t,n=e.route;return Object(D.jsx)(P,{style:ce.screen,children:Object(D.jsx)(W,{customStyle:ce.container,data:(t=n.params.crashData,[].concat(M()(J(t)),[{header:"Borough: ",content:t.borough||"-"},{header:"Zip code: ",content:t.zip_code||"-"},{header:"Location: ",content:t.location?"("+t.latitude+", "+t.longitude+")":"-"},{header:"On street name: ",content:t.on_street_name||"-"},{header:"Off street name: ",content:t.off_street_name||"-"},{header:"Cross street name: ",content:t.cross_street_name||"-"},{header:"Number of persons injured: ",content:t.number_of_persons_injured},{header:"Number of persons killed: ",content:t.number_of_persons_killed},{header:"Number of pedestrians injured: ",content:t.number_of_pedestrians_injured},{header:"Number of pedestrians killed: ",content:t.number_of_pedestrians_killed},{header:"Number of cyclists injured: ",content:t.number_of_cyclist_injured},{header:"Number of cyclists killed: ",content:t.number_of_cyclist_killed},{header:"Number of motorists injured: ",content:t.number_of_motorist_injured},{header:"Number of motorists killed: ",content:t.number_of_motorist_killed},{header:"Contributing factor vehicle 1: ",content:t.contributing_factor_vehicle_1||"-"},{header:"Contributing factor vehicle 2: ",content:t.contributing_factor_vehicle_2||"-"},{header:"Contributing factor vehicle 3: ",content:t.contributing_factor_vehicle_2||"-"},{header:"Contributing factor vehicle 4: ",content:t.contributing_factor_vehicle_2||"-"},{header:"Contributing factor vehicle 5: ",content:t.contributing_factor_vehicle_2||"-"}])),hasScrollView:!0})})};Object(l.registerTranslation)("en",l.en);var le=function(){return u.loadAsync({Poppins:n(336),PoppinsBold:n(337)})},de=o.default.create({title:{fontFamily:"PoppinsBold"}});function ue(){var e=Object(d.default)(),t=Object(a.useState)(!1),n=i()(t,2),r=n[0],o=n[1];return r?Object(D.jsx)(s.SafeAreaProvider,{children:Object(D.jsx)(c.default,{children:Object(D.jsxs)(e.Navigator,{children:[Object(D.jsx)(e.Screen,{name:"List",component:oe,options:{title:"Car Crashes List",headerTitleStyle:de.title}}),Object(D.jsx)(e.Screen,{name:"Details",component:se,options:{title:"Car Crash Details",headerBackTitle:"",headerTitleStyle:de.title}})]})})}):Object(D.jsx)(f.default,{startAsync:le,onFinish:function(){return o(!0)},onError:function(e){return console.log(e)}})}},271:function(e,t,n){e.exports=n(347)},336:function(e,t,n){e.exports=n.p+"./fonts/Poppins-Regular.ttf"},337:function(e,t,n){e.exports=n.p+"./fonts/Poppins-SemiBold.ttf"}},[[271,1,2]]]);
//# sourceMappingURL=app.8184ec13.chunk.js.map